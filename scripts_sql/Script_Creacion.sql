-- MySQL Script generated by MySQL Workbench
-- Sat May  6 12:36:00 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Bienestar
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS Bienestar;

-- -----------------------------------------------------
-- Schema Bienestar
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS Bienestar DEFAULT CHARACTER SET utf8 ;
USE Bienestar ;

-- -----------------------------------------------------
-- Table Bienestar.ambulancia
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.ambulancia ;

CREATE TABLE IF NOT EXISTS Bienestar.ambulancia (
  ambID VARCHAR(6) NOT NULL,
  PRIMARY KEY (ambID))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.persona
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.persona ;

CREATE TABLE IF NOT EXISTS Bienestar.persona (
  perID INT UNSIGNED NOT NULL,
  perNombre VARCHAR(45) NOT NULL,
  perApellido VARCHAR(45) NOT NULL,
  perDireccion VARCHAR(45) NOT NULL DEFAULT 'Sin Dirección',
  perBarrio VARCHAR(45) NOT NULL DEFAULT 'Sin Barrio',
  perCiudad VARCHAR(45) NOT NULL DEFAULT 'Bogotá',
  perTipoVivienda ENUM("Casa", "Apartamento", "Apartaestudio", "Finca") NOT NULL DEFAULT 'Casa',
  perLocalidad VARCHAR(45) NOT NULL DEFAULT 'Sin Localidad',
  perEmail VARCHAR(150) NULL,
  perEntidadSalud VARCHAR(45) NOT NULL DEFAULT 'N.e',
  perProcedencia VARCHAR(45) NOT NULL DEFAULT 'N.e',
  perSede VARCHAR(20) NOT NULL DEFAULT 'Bogotá',
  perFacultad VARCHAR(50) NOT NULL DEFAULT 'No tiene',
  PRIMARY KEY (perID))
ENGINE = InnoDB;

#CREATE UNIQUE INDEX perID_UNIQUE ON Bienestar.persona (perID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.personalsalud
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.personalsalud ;

CREATE TABLE IF NOT EXISTS Bienestar.personalsalud (
  perID INT UNSIGNED NOT NULL,
  ambulanciaID VARCHAR(6) NULL,
  salProfesion VARCHAR(45) NOT NULL,
  salEspecializacion VARCHAR(45) NULL,
  PRIMARY KEY (perID),
  CONSTRAINT fk_PersonalSalud_Ambulancia
    FOREIGN KEY (ambulanciaID)
    REFERENCES Bienestar.ambulancia (ambID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_PersonalSalud_Persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_PersonalSalud_Ambulancia_idx ON Bienestar.personalsalud (ambulanciaID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.urgencia
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.urgencia ;

CREATE TABLE IF NOT EXISTS Bienestar.urgencia (
  urgID INT NOT NULL AUTO_INCREMENT,
  perID INT UNSIGNED NOT NULL,
  ambulanciaID VARCHAR(6) NOT NULL,
  urgFecha DATETIME NOT NULL,
  urgTipo TINYINT NOT NULL,
  urgRiesgo TINYINT NOT NULL,
  urgDiagnostico VARCHAR(45) NOT NULL,
  urgTraslado VARCHAR(45) NOT NULL,
  urgHoraRecogida DATETIME NOT NULL,
  urgHoraDejada DATETIME NOT NULL,
  PRIMARY KEY (urgID, perID),
  CONSTRAINT fk_Urgencia_Ambulancia
    FOREIGN KEY (ambulanciaID)
    REFERENCES Bienestar.ambulancia (ambID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Urgencia_Persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_Urgencia_Ambulancia_idx ON Bienestar.urgencia (Ambulancia ASC) VISIBLE;

#CREATE INDEX fk_Urgencia_Persona_idx ON Bienestar.urgencia (perID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.incapacidad
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.incapacidad ;

CREATE TABLE IF NOT EXISTS Bienestar.incapacidad (
  incID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  perID INT UNSIGNED NOT NULL,
  incFecha DATE NOT NULL,
  incEnfermedad VARCHAR(45) NOT NULL,
  incDias TINYINT NOT NULL,
  incVerificado BIT NOT NULL,
  incAprobado BIT NOT NULL,
  PRIMARY KEY (incID, perID),
  CONSTRAINT fk_Incapacidad_Persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.perfilriesgointegral
-- -----------------------------------------------------

DROP TABLE IF EXISTS Bienestar.perfilriesgointegral;

CREATE TABLE IF NOT EXISTS Bienestar.perfilriesgointegral (
  perID INT UNSIGNED NOT NULL,
  perFecha DATE NOT NULL,
  perSaludFisica INT NOT NULL,
  perSaludPsicologica INT NOT NULL,
  PRIMARY KEY (perID),
  CONSTRAINT fk_PerfilRiesgoIntegral_Persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.discapacidad
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.discapacidad ;

CREATE TABLE IF NOT EXISTS Bienestar.discapacidad (
  disID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  perID INT UNSIGNED NOT NULL,
  disNombre VARCHAR(45) NOT NULL,
  disVerificado BIT NOT NULL,
  disAprobado BIT NOT NULL,
  PRIMARY KEY (disID, perID),
  CONSTRAINT fk_Discapacidad_Persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.cargo
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.cargo ;

CREATE TABLE IF NOT EXISTS Bienestar.cargo (
  carID INT UNSIGNED NOT NULL,
  carNombre ENUM('Profesor', 'Estudiante', 'Rector', 'Directivo', 'Jefe', 'Empleado', 'Ninguno', 'Otro', 'Vicerrector') NOT NULL DEFAULT 'Profesor',
  PRIMARY KEY (carID))
ENGINE = InnoDB;

CREATE UNIQUE INDEX perID_UNIQUE ON Bienestar.cargo (carID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.citamedica
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.citamedica ;

CREATE TABLE IF NOT EXISTS Bienestar.citamedica (
  citID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  doctorID INT UNSIGNED NOT NULL,
  pacienteID INT UNSIGNED NULL,
  citFecha DATETIME NOT NULL,
  citEspecialidad VARCHAR(45) NOT NULL,
  citDiagnostico VARCHAR(80) NULL,
  PRIMARY KEY (citID),
  CONSTRAINT fk_CitaMedica_Persona
    FOREIGN KEY (pacienteID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_CitaMedica_PersonalSalud
    FOREIGN KEY (doctorID)
    REFERENCES Bienestar.personalsalud (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_CitaMedica_Persona_idx ON Bienestar.citamedica (pacienteID ASC) VISIBLE;

#CREATE INDEX fk_CitaMedica_PersonalSalud_idx ON Bienestar.citamedica (doctorID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.evaluacionfisica
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.evaluacionfisica ;

CREATE TABLE IF NOT EXISTS Bienestar.evaluacionfisica (
  citID INT UNSIGNED NOT NULL,
  evaPeso TINYINT NOT NULL,
  evaEstatura TINYINT NOT NULL,
  evaRitmoCardiaco TINYINT NOT NULL,
  evaVision TINYINT NOT NULL,
  PRIMARY KEY (citID),
  CONSTRAINT fk_EvaluacionFisica_CitaMedica
    FOREIGN KEY (citID)
    REFERENCES Bienestar.citamedica (citID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table Bienestar.medicamentos
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.medicamentos ;

CREATE TABLE IF NOT EXISTS Bienestar.medicamentos (
  medID INT NOT NULL AUTO_INCREMENT,
  citID INT UNSIGNED NOT NULL,
  medNombre VARCHAR(45) NOT NULL,
  medCantidad TINYINT NOT NULL,
  medIntervalos TINYINT NOT NULL,
  PRIMARY KEY (medID, citID),
  CONSTRAINT fk_Medicamentos_CitaMedica
    FOREIGN KEY (citID)
    REFERENCES Bienestar.citamedica (citID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.ordenmedica
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.ordenmedica ;

CREATE TABLE IF NOT EXISTS Bienestar.ordenmedica (
  ordID INT NOT NULL AUTO_INCREMENT,
  citID INT UNSIGNED NOT NULL,
  ordExamen VARCHAR(45) NOT NULL,
  PRIMARY KEY (ordID, citID),
  CONSTRAINT fk_ordenmedica_citamedica
    FOREIGN KEY (citID)
    REFERENCES Bienestar.citamedica (citID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.enfermedad
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.enfermedad ;

CREATE TABLE IF NOT EXISTS Bienestar.enfermedad (
  enfID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  perID INT UNSIGNED NOT NULL,
  enfNombre VARCHAR(45) NOT NULL,
  enfFechaInicio DATE NOT NULL,
  PRIMARY KEY (enfID, perID),
  CONSTRAINT fk_enfermedad_persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_Enfermedad_Persona_idx ON Bienestar.enfermedad (perID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.area
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.area ;

CREATE TABLE IF NOT EXISTS Bienestar.area (
  areID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  areNombre VARCHAR(45) NOT NULL,
  areTelefono bigint NOT NULL,
  areCorreoElectronico VARCHAR(60) NOT NULL,
  areExtension INT NOT NULL,
  areEdificio VARCHAR(100) NOT NULL,
  areDescripcion LONGTEXT NOT NULL,
  PRIMARY KEY (areID))
ENGINE = InnoDB;

CREATE UNIQUE INDEX areID_UNIQUE ON Bienestar.area (areID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.programa
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.programa ;

CREATE TABLE IF NOT EXISTS Bienestar.programa (
  progID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  progNombre VARCHAR(45) NOT NULL,
  Area_areID INT UNSIGNED NOT NULL,
  progExtension INT NULL,
  progCorreoElectronico VARCHAR(60) NULL,
  progTelefono INT NULL,
  progEdificio VARCHAR(50) NULL,
  progOficina VARCHAR(10) NULL,
  PRIMARY KEY (progID),
  CONSTRAINT fk_Programa_Area1
    FOREIGN KEY (Area_areID)
    REFERENCES Bienestar.area (areID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX progID_UNIQUE ON Bienestar.programa (progID ASC) VISIBLE;

CREATE INDEX fk_Programa_Area1_idx ON Bienestar.programa (Area_areID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.convocatoria
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoria ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoria (
  conv_id INT NOT NULL,
  convNombre VARCHAR(70) NOT NULL,
  convFechaApertura DATE NOT NULL,
  convFechaCierre DATE NOT NULL,
  convEstado TINYINT NOT NULL,
  convPeriodo VARCHAR(25) NULL,
  Programa_progID INT UNSIGNED NOT NULL,
  convPAPA DOUBLE NULL DEFAULT 3.5,
  PRIMARY KEY (conv_id, Programa_progID),
  CONSTRAINT fk_Convocatoria_Programa1
    FOREIGN KEY (Programa_progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Convocatoria_Programa1_idx ON Bienestar.convocatoria (Programa_progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.grupoartisticoinstitucional
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.grupoartisticoinstitucional ;

CREATE TABLE IF NOT EXISTS Bienestar.grupoartisticoinstitucional (
  GAI_id INT NOT NULL,
  gaiRequerimientoEspacio VARCHAR(50) NOT NULL,
  gaiNombre VARCHAR(45) NOT NULL,
  gaiDisciplina VARCHAR(60) NOT NULL,
  gaiNombreDirector VARCHAR(60) NOT NULL,
  gaiRequerimientoTecnico longtext NOT NULL,
  eveCulTipo ENUM("Evento", "Actividad Lúdica", "Instrucción", "Promoción Interculturalidad", "Expresión Talentos") NOT NULL,
  eveCulDescripcion longtext NOT NULL,
  progID INT UNSIGNED NOT NULL,
  PRIMARY KEY (GAI_id, progID),
  CONSTRAINT fk_GrupoArtisticoInstitucional_Programa1
    FOREIGN KEY (progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_GrupoArtisticoInstitucional_Programa1_idx ON Bienestar.grupoartisticoinstitucional (progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriagai
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriagai ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriagai (
  Convocatoria_conv_id INT NOT NULL,
  GrupoArtisticoInstitucional_GAI_id INT NOT NULL,
  convGaiNombre VARCHAR(50) NOT NULL,
  convGaiDisciplina VARCHAR(45) NOT NULL,
  convGaiEntrevista DATE NOT NULL,
  PRIMARY KEY (Convocatoria_conv_id, GrupoArtisticoInstitucional_GAI_id),
  CONSTRAINT fk_ConvGAI_Convocatoria1
    FOREIGN KEY (Convocatoria_conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_ConvocatoriaGAI_GrupoArtisticoInstitucional1
    FOREIGN KEY (GrupoArtisticoInstitucional_GAI_id)
    REFERENCES Bienestar.grupoartisticoinstitucional (GAI_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_ConvGAI_Convocatoria1_idx ON Bienestar.convocatoriagai (Convocatoria_conv_id ASC) VISIBLE;

CREATE INDEX fk_ConvocatoriaGAI_GrupoArtisticoInstitucional1_idx ON Bienestar.convocatoriagai (GrupoArtisticoInstitucional_GAI_id ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.torneointerno
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.torneointerno ;

CREATE TABLE IF NOT EXISTS Bienestar.torneointerno (
  toridTorneoInterno INT NOT NULL,
  torPeriodo VARCHAR(10) NOT NULL,
  torSedeFacultad VARCHAR(60) NOT NULL,
  torDeporte VARCHAR(35) NOT NULL,
  torNombreTorneo VARCHAR(90) NOT NULL,
  torEstado TINYINT NOT NULL,
  torModalidad VARCHAR(45) NULL,
  torRama VARCHAR(45) NOT NULL,
  torNivel VARCHAR(45) NULL,
  torFechaInicio DATE NOT NULL,
  torFechaFinalizacion DATE NOT NULL,
  Programa_progID INT UNSIGNED NOT NULL,
  PRIMARY KEY (toridTorneoInterno, Programa_progID),
  CONSTRAINT fk_TorneoInterno_Programa1
    FOREIGN KEY (Programa_progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_TorneoInterno_Programa1_idx ON Bienestar.torneointerno (Programa_progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriacursolibre
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriacursolibre ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriacursolibre (
  Convocatoria_conv_id INT NOT NULL,
  curNombre VARCHAR(45) NOT NULL,
  curTipoCurso VARCHAR(45) NOT NULL,
  curCondicion VARCHAR(45) NOT NULL,
  PRIMARY KEY (Convocatoria_conv_id),
  CONSTRAINT fk_ConvocatoriaCursoLibre_Convocatoria1
    FOREIGN KEY (Convocatoria_conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriaseleccion
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriaseleccion ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriaseleccion (
  Convocatoria_conv_id INT NOT NULL,
  convDeporte VARCHAR(45) NOT NULL,
  convLugar VARCHAR(50) NOT NULL,
  convHora TIME NOT NULL,
  PRIMARY KEY (Convocatoria_conv_id),
  CONSTRAINT fk_ConvocatoriaSeleccion_Convocatoria1
    FOREIGN KEY (Convocatoria_conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.eventotaller
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.eventotaller ;

CREATE TABLE IF NOT EXISTS Bienestar.eventotaller (
  evetaidEventoTaller INT NOT NULL,
  evetaNombre VARCHAR(60) NOT NULL,
  evetaTipoEventoTaller VARCHAR(45) NOT NULL,
  eveDescripcion LONGTEXT NOT NULL,
  evetaHoraInicio TIME NOT NULL,
  evetaHoraFin TIME NOT NULL,
  evetaFecha DATE NOT NULL,
  evetaLugar VARCHAR(45) NOT NULL,
  PRIMARY KEY (evetaidEventoTaller))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.proyecto
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.proyecto ;

CREATE TABLE IF NOT EXISTS Bienestar.proyecto (
  proyIdProyecto INT NOT NULL,
  proyNombre VARCHAR(60) NOT NULL,
  proyEjecucion DECIMAL NOT NULL,
  proyFechaInicio DATE NOT NULL,
  proyFechaFinalizacion DATE NOT NULL,
  proyPresupuesto VARCHAR(1000) NOT NULL,
  PRIMARY KEY (proyIdProyecto))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.atencionensalud
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.atencionensalud ;

CREATE TABLE IF NOT EXISTS Bienestar.atencionensalud (
  antID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  perID INT UNSIGNED NOT NULL,
  ateFecha DATETIME NOT NULL,
  ateTipo VARCHAR(45) NOT NULL,
  ateVerificado BIT NOT NULL,
  ateAprobado BIT NOT NULL,
  PRIMARY KEY (antID, perID),
  CONSTRAINT fk_atencionensalud_persona
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.carrera
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.carrera ;

CREATE TABLE IF NOT EXISTS Bienestar.carrera (
  carreID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  carreNombre VARCHAR(45) NOT NULL,
  carreCreditos INT NOT NULL DEFAULT 0,
  PRIMARY KEY (carreID))
ENGINE = InnoDB;

CREATE UNIQUE INDEX carID_UNIQUE ON Bienestar.carrera (carreID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.estudiante
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.estudiante ;

CREATE TABLE IF NOT EXISTS Bienestar.estudiante (
  estID INT UNSIGNED NOT NULL,
  carreID INT UNSIGNED NOT NULL,
  estEdad TINYINT UNSIGNED NOT NULL,
  estPBM TINYINT NOT NULL,
  estTipoAdmision VARCHAR(20) NOT NULL,
  estEsEgresado TINYINT NOT NULL,
  estAnoGraduacion INT NULL,
  estPAPA DOUBLE NOT NULL,
  PRIMARY KEY (estID),
  CONSTRAINT fk_Estudiante_copy1_Persona_copy11
    FOREIGN KEY (estID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Estudiante_copy1_Carrera1
    FOREIGN KEY (carreID)
    REFERENCES Bienestar.carrera (carreID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Estudiante_copy1_Persona_copy11_idx ON Bienestar.estudiante (estID ASC) VISIBLE;

CREATE INDEX fk_Estudiante_copy1_Carrera1_idx ON Bienestar.estudiante (carreID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriagestionalojamiento
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriagestionalojamiento ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriagestionalojamiento (
  conv_id INT NOT NULL,
  cgalDireccionAlojamiento VARCHAR(100) NOT NULL DEFAULT 'Bogota',
  cgalLocalidadAlojamiento VARCHAR(100) NOT NULL DEFAULT 'Teusaquillo',
  cgalCobertura FLOAT UNSIGNED NOT NULL DEFAULT 0,
  cgalTipoVivienda ENUM('Hotel', 'Casa', 'Apartamento', 'Vivienda familiar', 'Residencia Universitaria', 'Apartaestudio', 'Habitación', 'otro') NOT NULL DEFAULT 'Habitación',
  cgalDescripcion VARCHAR(200) NOT NULL DEFAULT 'N.A',
  cgalCosto FLOAT UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY (conv_id),
  CONSTRAINT fk_CvGesAlojamiento_Convocatoria1
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_CvGesAlojamiento_Convocatoria1_idx ON Bienestar.convocatoriagestionalojamiento (conv_id ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriagestiontransporte
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriagestiontransporte ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriagestiontransporte (
  conv_id INT NOT NULL,
  cgtCobertura FLOAT NOT NULL DEFAULT 0,
  cgtTipoTransporte ENUM('Transporte público masivo', 'otro') NOT NULL DEFAULT 'otro',
  PRIMARY KEY (conv_id),
  CONSTRAINT fk_ConvocatoriaGestionTransporte_Convocatoria1
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.convocatoriagestionalimentaria
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriagestionalimentaria ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriagestionalimentaria (
  conv_id INT NOT NULL,
  cgaComida ENUM('Desayuno', 'Almuerzo', 'Cena') NOT NULL DEFAULT 'Almuerzo',
  cgaLugar ENUM('Comedor central', 'Hemeroteca', 'Odontología', 'Agronomía', 'Biología', 'Ciencias Humanas', 'Ciencias Económicas', 'Matemáticas', 'otro') NOT NULL DEFAULT 'Comedor central',
  PRIMARY KEY (conv_id),
  CONSTRAINT fk_ConvocatoriaGestionAlimentaria_Convocatoria1
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id )
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.corresponsabilidad
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.corresponsabilidad ;

CREATE TABLE IF NOT EXISTS Bienestar.corresponsabilidad (
  idEst INT UNSIGNED NOT NULL,
  horPendCorresp TINYINT UNSIGNED NOT NULL DEFAULT 0,
  PRIMARY KEY (idEst, horPendCorresp),
  CONSTRAINT fk_Corresponsabilidad_Estudiante_copy11
    FOREIGN KEY (idEst)
    REFERENCES Bienestar.estudiante (estID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Corresponsabilidad_Estudiante_copy11_idx ON Bienestar.corresponsabilidad (idEst ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.actividadcorresp
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.actividadcorresp ;

CREATE TABLE IF NOT EXISTS Bienestar.actividadcorresp (
  actCorID INT UNSIGNED NOT NULL,
  estID INT UNSIGNED NOT NULL,
  actCorActividad ENUM('académica', 'deportiva', 'cultural', 'comunitaria', 'acompañamiento', 'desarrollo institucional', 'otra') NOT NULL DEFAULT 'académica',
  actCorHoras TINYINT NOT NULL,
  actCorFecha DATE NOT NULL,
  PRIMARY KEY (actCorID),
  CONSTRAINT fk_ActividadCorresp_Estudiante1
    FOREIGN KEY (estID)
    REFERENCES Bienestar.estudiante (estID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX idActividadCorresp_UNIQUE ON Bienestar.actividadcorresp (actCorID ASC) VISIBLE;

CREATE INDEX fk_ActividadCorresp_Estudiante1_idx ON Bienestar.actividadcorresp (estID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.programa_tiene_proyecto
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.programa_tiene_proyecto ;

CREATE TABLE IF NOT EXISTS Bienestar.programa_tiene_proyecto (
  Proyecto_proyIdProyecto INT NOT NULL,
  progID INT UNSIGNED NOT NULL,
  PRIMARY KEY (Proyecto_proyIdProyecto, progID),
  CONSTRAINT fk_Programa_has_Proyecto_Proyecto1
    FOREIGN KEY (Proyecto_proyIdProyecto)
    REFERENCES Bienestar.proyecto (proyIdProyecto)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Programa_Tiene_Proyecto_Programa1
    FOREIGN KEY (progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Programa_has_Proyecto_Proyecto1_idx ON Bienestar.programa_tiene_proyecto (Proyecto_proyIdProyecto ASC) VISIBLE;

CREATE INDEX fk_Programa_Tiene_Proyecto_Programa1_idx ON Bienestar.programa_tiene_proyecto (progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.programa_tiene_eventotaller
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.programa_tiene_eventotaller ;

CREATE TABLE IF NOT EXISTS Bienestar.programa_tiene_eventotaller (
  idEventoTaller INT NOT NULL,
  progID INT UNSIGNED NOT NULL,
  PRIMARY KEY (idEventoTaller, progID),
  CONSTRAINT fk_Programa_has_EventoTaller_EventoTaller1
    FOREIGN KEY (idEventoTaller)
    REFERENCES Bienestar.eventotaller (evetaidEventoTaller)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Programa_Tiene_EventoTaller_Programa1
    FOREIGN KEY (progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Programa_has_EventoTaller_EventoTaller1_idx ON Bienestar.programa_tiene_eventotaller (idEventoTaller ASC) VISIBLE;

CREATE INDEX fk_Programa_Tiene_EventoTaller_Programa1_idx ON Bienestar.programa_tiene_eventotaller (progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.CursoCultural
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.cursocultural ;

CREATE TABLE IF NOT EXISTS Bienestar.cursocultural (
  curidCursoCultural INT NOT NULL,
  cucNombre VARCHAR(50) NOT NULL,
  cucObjetivo LONGTEXT NOT NULL,
  cucHorario VARCHAR(60) NOT NULL,
  cucLugar VARCHAR(100) NOT NULL,
  cucCupoMinimo TINYINT(30) NOT NULL,
  cucCupoMaximo TINYINT(30) NOT NULL,
  cucCategoria VARCHAR(60) NOT NULL,
  cucNivel int ,
  Programa_progID INT UNSIGNED NOT NULL,
  PRIMARY KEY (curidCursoCultural, Programa_progID),
  CONSTRAINT fk_CursoCultural_Programa1
    FOREIGN KEY (Programa_progID)
    REFERENCES Bienestar.programa (progID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_CursoCultural_Programa1_idx ON Bienestar.cursocultural (Programa_progID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.Inscripcion
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.inscripcion ;

CREATE TABLE IF NOT EXISTS Bienestar.inscripcion (
  Inscripcion INT NOT NULL,
  insFechaLimite DATE NOT NULL,
  insValor DOUBLE NOT NULL,
  insPeriodo VARCHAR(45) NOT NULL,
  PRIMARY KEY (Inscripcion))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.CursoCultural_has_Inscripcion
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.cursocultural_has_inscripcion ;

CREATE TABLE IF NOT EXISTS Bienestar.cursocultural_has_inscripcion (
  CursoCultural_curidCursoCultural INT NOT NULL,
  Inscripcion_Inscripcion INT NOT NULL,
  PRIMARY KEY (CursoCultural_curidCursoCultural, Inscripcion_Inscripcion),
  CONSTRAINT fk_CursoCultural_has_Inscripcion_CursoCultural1
    FOREIGN KEY (CursoCultural_curidCursoCultural)
    REFERENCES Bienestar.cursocultural (curidCursoCultural)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_CursoCultural_has_Inscripcion_Inscripcion1
    FOREIGN KEY (Inscripcion_Inscripcion)
    REFERENCES Bienestar.inscripcion (Inscripcion)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_CursoCultural_has_Inscripcion_Inscripcion1_idx ON Bienestar.cursocultural_has_inscripcion (Inscripcion_Inscripcion ASC) VISIBLE;

CREATE INDEX fk_CursoCultural_has_Inscripcion_CursoCultural1_idx ON Bienestar.cursocultural_has_inscripcion (CursoCultural_curidCursoCultural ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.Estudiante_Toma_Convocatoria
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.estudiante_toma_convocatoria ;

CREATE TABLE IF NOT EXISTS Bienestar.estudiante_toma_convocatoria (
  idEst INT UNSIGNED NOT NULL,
  conv_id INT NOT NULL,
  fecha_est_tm_conv date not null,
  PRIMARY KEY (idEst, conv_id, fecha_est_tm_conv),
  CONSTRAINT fk_Estudiante_copy1_has_Convocatoria_Estudiante_copy11
    FOREIGN KEY (idEst)
    REFERENCES Bienestar.estudiante (estID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Estudiante_copy1_has_Convocatoria_Convocatoria1
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

#CREATE INDEX fk_Estudiante_copy1_has_Convocatoria_Convocatoria1_idx ON Bienestar.Estudiante_Toma_Convocatoria (conv_id ASC) VISIBLE;

CREATE INDEX fk_Estudiante_copy1_has_Convocatoria_Estudiante_copy11_idx ON Bienestar.estudiante_toma_convocatoria (idEst ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.ConvocatoriaGestionEconomica
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriagestioneconomica ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriagestioneconomica (
  conv_id INT NOT NULL,
  cgeCobertura FLOAT NOT NULL DEFAULT 0,
  PRIMARY KEY (conv_id),
  CONSTRAINT fk_ConvocatoriaGestionTransporte_Convocatoria10
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.persona_cargo
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.persona_cargo ;

CREATE TABLE IF NOT EXISTS Bienestar.persona_cargo (
  perID INT UNSIGNED NOT NULL,
  carID INT UNSIGNED NOT NULL,
  PRIMARY KEY (perID, carID),
  CONSTRAINT fk_Persona_copy1_has_Cargo_Persona_copy11
    FOREIGN KEY (perID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Persona_copy1_has_Cargo_Cargo1
    FOREIGN KEY (carID)
    REFERENCES Bienestar.cargo (carID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Persona_copy1_has_Cargo_Cargo1_idx ON Bienestar.persona_cargo (carID ASC) VISIBLE;

CREATE INDEX fk_Persona_copy1_has_Cargo_Persona_copy11_idx ON Bienestar.persona_cargo (perID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.FallaAlimentacion
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.fallaalimentacion ;

CREATE TABLE IF NOT EXISTS Bienestar.fallaalimentacion (
  fallAlID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  estID INT UNSIGNED NOT NULL,
  fallAlcgaComida ENUM('Desayuno', 'Almuerzo', 'Cena') NOT NULL DEFAULT 'Almuerzo',
  fallAlLugar ENUM('Comedor central', 'Hemeroteca', 'Odontología', 'Agronomía', 'Biología', 'Ciencias Humanas', 'Ciencias Económicas', 'Matemáticas', 'otro') NOT NULL DEFAULT 'Comedor central',
  fallAlFecha DATE NOT NULL,
  PRIMARY KEY (fallAlID),
  CONSTRAINT fk_FallaAlimentacion_Estudiante1
    FOREIGN KEY (estID)
    REFERENCES Bienestar.estudiante (estID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX fallAlID_UNIQUE ON Bienestar.fallaalimentacion (fallAlID ASC) VISIBLE;

CREATE INDEX fk_FallaAlimentacion_Estudiante1_idx ON Bienestar.fallaalimentacion (estID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.ConvocatoriaFomentoEmprendimiento
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.convocatoriafomentoemprendimiento ;

CREATE TABLE IF NOT EXISTS Bienestar.convocatoriafomentoemprendimiento (
  conv_id INT NOT NULL,
  cgemCobertura FLOAT NOT NULL DEFAULT 0,
  cgemNombreEmprend VARCHAR(60) NOT NULL,
  cgemTema VARCHAR(50) NOT NULL,
  cgemDescripcion VARCHAR(200) NOT NULL,
  PRIMARY KEY (conv_id),
  CONSTRAINT fk_ConvocatoriaGestionTransporte_Convocatoria100
    FOREIGN KEY (conv_id)
    REFERENCES Bienestar.convocatoria (conv_id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table Bienestar.TiendaBienestar
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.tiendabienestar ;

CREATE TABLE IF NOT EXISTS Bienestar.tiendabienestar (
  tieID INT NOT NULL AUTO_INCREMENT,
  tieCiudad VARCHAR(45) NOT NULL DEFAULT 'Bogotá',
  tieDireccion VARCHAR(50) NOT NULL DEFAULT 'N.E',
  tieHorInicio TIME NOT NULL DEFAULT '08:00:00',
  tieHorFinal TIME NOT NULL DEFAULT '16:00:00',
  directorID INT UNSIGNED NOT NULL,
  jefeID INT UNSIGNED NOT NULL,
  PRIMARY KEY (tieID),
  CONSTRAINT fk_TiendaBienestar_copy1_Persona_copy11
    FOREIGN KEY (directorID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_TiendaBienestar_copy1_Persona_copy12
    FOREIGN KEY (jefeID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX tiendBienID_UNIQUE ON Bienestar.tiendabienestar (tieID ASC) VISIBLE;

CREATE INDEX fk_TiendaBienestar_copy1_Persona_copy11_idx ON Bienestar.tiendabienestar (directorID ASC) VISIBLE;

CREATE INDEX fk_TiendaBienestar_copy1_Persona_copy12_idx ON Bienestar.tiendabienestar (jefeID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.Factura
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.factura ;

CREATE TABLE IF NOT EXISTS Bienestar.factura (
  factID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  factFecha DATE NOT NULL,
  factHora TIME NOT NULL DEFAULT '08:00:00',
  factDetalle VARCHAR(100) NOT NULL DEFAULT 'N:A',
  tieID INT NOT NULL,
  clienteID INT UNSIGNED NOT NULL,
  PRIMARY KEY (factID),
  CONSTRAINT fk_Factura_copy1_TiendaBienestar_copy11
    FOREIGN KEY (tieID)
    REFERENCES Bienestar.tiendabienestar (tieID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Factura_copy1_Persona_copy11
    FOREIGN KEY (clienteID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE UNIQUE INDEX factID_UNIQUE ON Bienestar.factura (factID ASC) VISIBLE;

CREATE INDEX fk_Factura_copy1_TiendaBienestar_copy11_idx ON Bienestar.factura (tieID ASC) VISIBLE;

CREATE INDEX fk_Factura_copy1_Persona_copy11_idx ON Bienestar.factura (clienteID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.Producto
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.producto ;

CREATE TABLE IF NOT EXISTS Bienestar.producto (
  prodID INT UNSIGNED NOT NULL AUTO_INCREMENT,
  prodPrecio DOUBLE NOT NULL DEFAULT 0,
  prodDetalle VARCHAR(100) NOT NULL DEFAULT 'Sin detalle',
  PRIMARY KEY (prodID))
ENGINE = InnoDB;

CREATE UNIQUE INDEX prodID_UNIQUE ON Bienestar.producto (prodID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.empleado_tiendaUN
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.empleado_tiendaun ;

CREATE TABLE IF NOT EXISTS Bienestar.empleado_tiendaun (
  tieID INT NOT NULL,
  empleadoID INT UNSIGNED NOT NULL,
  PRIMARY KEY (tieID, empleadoID),
  CONSTRAINT fk_TiendaBienestar_copy1_has_Persona_copy1_TiendaBienestar_co1
    FOREIGN KEY (tieID)
    REFERENCES Bienestar.tiendabienestar (tieID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_TiendaBienestar_copy1_has_Persona_copy1_Persona_copy11
    FOREIGN KEY (empleadoID)
    REFERENCES Bienestar.persona (perID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_TiendaBienestar_copy1_has_Persona_copy1_Persona_copy11_idx ON Bienestar.empleado_tiendaun (empleadoID ASC) VISIBLE;

CREATE INDEX fk_TiendaBienestar_copy1_has_Persona_copy1_TiendaBienestar__idx ON Bienestar.empleado_tiendaun (tieID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.factura_producto
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.factura_producto ;

CREATE TABLE IF NOT EXISTS Bienestar.factura_producto (
  prodID INT UNSIGNED NOT NULL,
  factID INT UNSIGNED NOT NULL,
  PRIMARY KEY (prodID, factID),
  CONSTRAINT fk_Producto_copy1_has_Factura_copy1_Producto_copy11
    FOREIGN KEY (prodID)
    REFERENCES Bienestar.producto (prodID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_Producto_copy1_has_Factura_copy1_Factura_copy11
    FOREIGN KEY (factID)
    REFERENCES Bienestar.factura (factID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_Producto_copy1_has_Factura_copy1_Factura_copy11_idx ON Bienestar.factura_producto (factID ASC) VISIBLE;

CREATE INDEX fk_Producto_copy1_has_Factura_copy1_Producto_copy11_idx ON Bienestar.factura_producto (prodID ASC) VISIBLE;


-- -----------------------------------------------------
-- Table Bienestar.producto_tiendaUN
-- -----------------------------------------------------
DROP TABLE IF EXISTS Bienestar.producto_tiendaun ;

CREATE TABLE IF NOT EXISTS Bienestar.producto_tiendaun (
  tieID INT NOT NULL,
  prodID INT UNSIGNED NOT NULL,
  prodDisponibilidad INT UNSIGNED NOT NULL,
  PRIMARY KEY (tieID, prodID),
  CONSTRAINT fk_TiendaBienestar_copy1_has_Producto_copy1_TiendaBienestar_c1
    FOREIGN KEY (tieID)
    REFERENCES Bienestar.tiendabienestar (tieID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT fk_TiendaBienestar_copy1_has_Producto_copy1_Producto_copy11
    FOREIGN KEY (prodID)
    REFERENCES Bienestar.producto (prodID)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX fk_TiendaBienestar_copy1_has_Producto_copy1_Producto_copy11_idx ON Bienestar.producto_tiendaun (prodID ASC) VISIBLE;

CREATE INDEX fk_TiendaBienestar_copy1_has_Producto_copy1_TiendaBienestar_idx ON Bienestar.producto_tiendaun (tieID ASC) VISIBLE;

-- -----------------------------------------------------
-- Table `Bienestar`.`Infante`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`infante` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`infante` (
  `idPadre_o_Madre` INT UNSIGNED NOT NULL,
  `IdInfante` INT UNSIGNED NOT NULL,
  `TipoDocumento` VARCHAR(45) NULL,
  PRIMARY KEY (`IdInfante`),
  CONSTRAINT `fk_Infante_Persona1`
    FOREIGN KEY (`idPadre_o_Madre`)
    REFERENCES `Bienestar`.`persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Infante_Persona2`
    FOREIGN KEY (`IdInfante`)
    REFERENCES `Bienestar`.`persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Infante_Persona1_idx` ON `Bienestar`.`infante` (`idPadre_o_Madre` ASC) VISIBLE;

CREATE INDEX `fk_Infante_Persona2_idx` ON `Bienestar`.`infante` (`IdInfante` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`InscripciónJardinInfantil`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`inscripciónjardininfantil` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`inscripciónjardininfantil` (
  `Infante_IdInfante` INT UNSIGNED NOT NULL,
  `Sala` VARCHAR(45) NULL,
  `Fecha ingreso` VARCHAR(45) NULL,
  `Programa_progID` INT UNSIGNED NOT NULL,
  `FechaEgreso` VARCHAR(45) NULL,
  `Estado` VARCHAR(45) NULL,
  PRIMARY KEY (`Infante_IdInfante`, `Programa_progID`),
  CONSTRAINT `fk_InscripciónJardinInfantil_Infante1`
    FOREIGN KEY (`Infante_IdInfante`)
    REFERENCES `Bienestar`.`infante` (`IdInfante`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_InscripciónJardinInfantil_Programa1`
    FOREIGN KEY (`Programa_progID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_InscripciónJardinInfantil_Infante1_idx` ON `Bienestar`.`inscripciónjardininfantil` (`Infante_IdInfante` ASC) VISIBLE;

CREATE INDEX `fk_InscripciónJardinInfantil_Programa1_idx` ON `Bienestar`.`inscripciónjardininfantil` (`Programa_progID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`InscripciónIPARM`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`inscripcióniparm` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`inscripcióniparm` (
  `Infante_IdInfante` INT UNSIGNED NOT NULL,
  `Programa_progID` INT UNSIGNED NOT NULL,
  `Grado` VARCHAR(45) NULL,
  `Estado` VARCHAR(45) NULL,
  `FechaIngreso` VARCHAR(45) NULL,
  `FechaEgreso` VARCHAR(45) NULL,
  PRIMARY KEY (`Infante_IdInfante`, `Programa_progID`),
  CONSTRAINT `fk_InscripciónIPARM_Infante1`
    FOREIGN KEY (`Infante_IdInfante`)
    REFERENCES `Bienestar`.`infante` (`IdInfante`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_InscripciónIPARM_Programa1`
    FOREIGN KEY (`Programa_progID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_InscripciónIPARM_Infante1_idx` ON `Bienestar`.`inscripcióniparm` (`Infante_IdInfante` ASC) VISIBLE;

CREATE INDEX `fk_InscripciónIPARM_Programa1_idx` ON `Bienestar`.`inscripcióniparm` (`Programa_progID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`ServicioCapellania`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`serviciocapellania` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`serviciocapellania` (
  `idServicioCapellania` INT NOT NULL,
  `Nombre` VARCHAR(45) NULL,
  `FechaInicio` DATE NULL,
  `FechaFin` DATE NULL,
  `TIpoServicio` VARCHAR(45) NULL,
  `Programa_progID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idServicioCapellania`),
  CONSTRAINT `fk_ServicioCapellania_Programa1`
    FOREIGN KEY (`Programa_progID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ServicioCapellania_Programa1_idx` ON `Bienestar`.`serviciocapellania` (`Programa_progID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`GrupoFormaciónEspiritual`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`grupoformaciónespiritual` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`grupoformaciónespiritual` (
  `idGrupoFormaciónEspiritual` INT NOT NULL,
  `Nombre` VARCHAR(45) NULL,
  `FechaInicio` DATE NULL,
  `FechaFin` DATE NULL,
  `TemaEstudio` VARCHAR(45) NULL,
  `Programa_progID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idGrupoFormaciónEspiritual`),
  CONSTRAINT `fk_GrupoFormaciónEspiritual_Programa1`
    FOREIGN KEY (`Programa_progID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_GrupoFormaciónEspiritual_Programa1_idx` ON `Bienestar`.`grupoformaciónespiritual` (`Programa_progID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`VoluntariadoCapellania`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`voluntariadocapellania` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`voluntariadocapellania` (
  `idVoluntariadoCapellania` INT NOT NULL,
  `Nombre` VARCHAR(45) NULL,
  `FechaInicio` DATE NULL,
  `FechaFin` DATE NULL,
  `TipoVoluntariado` VARCHAR(45) NULL,
  `Programa_progID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`idVoluntariadoCapellania`),
  CONSTRAINT `fk_VoluntariadoCapellania_Programa1`
    FOREIGN KEY (`Programa_progID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_VoluntariadoCapellania_Programa1_idx` ON `Bienestar`.`voluntariadocapellania` (`Programa_progID` ASC) VISIBLE;

-- -----------------------------------------------------
-- Table `Bienestar`.`ActividadAI`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`actividadai` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`actividadai` (
  `actID` INT NOT NULL,
  `actNombre` VARCHAR(45) NOT NULL,
  `actTipo` VARCHAR(45) NOT NULL,
  `actFecha` DATETIME NULL,
  `actLugar` VARCHAR(45) NULL,
  `actDescripcion` LONGTEXT NOT NULL,
  `ProgramaID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`actID`),
  CONSTRAINT `fk_ActividadAI_Programa1`
    FOREIGN KEY (`ProgramaID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ActividadAI_Programa1_idx` ON `Bienestar`.`actividadai` (`ProgramaID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`ParticipacionActividadAI`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`participacionactividadai` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`participacionactividadai` (
  `ActividadID` INT NOT NULL,
  `EstudianteID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`ActividadID`, `EstudianteID`),
  CONSTRAINT `fk_ActividadAI_has_Estudiante_ActividadAI1`
    FOREIGN KEY (`ActividadID`)
    REFERENCES `Bienestar`.`actividadai` (`actID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ActividadAI_has_Estudiante_Estudiante1`
    FOREIGN KEY (`EstudianteID`)
    REFERENCES `Bienestar`.`estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ActividadAI_has_Estudiante_Estudiante1_idx` ON `Bienestar`.`participacionactividadai` (`EstudianteID` ASC) VISIBLE;

CREATE INDEX `fk_ActividadAI_has_Estudiante_ActividadAI1_idx` ON `Bienestar`.`participacionactividadai` (`ActividadID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`Asesoria`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`asesoria` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`asesoria` (
  `asID` INT NOT NULL,
  `asTipo` MEDIUMTEXT NOT NULL,
  `asArea` VARCHAR(45) NOT NULL,
  `asFecha` DATETIME NOT NULL,
  `asLugar` VARCHAR(45) NOT NULL,
  `ProgramaID` INT UNSIGNED NOT NULL,
  `EstudianteID` INT UNSIGNED NOT NULL,
  `AsesorID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`asID`, `ProgramaID`, `EstudianteID`, `AsesorID`),
  CONSTRAINT `fk_Asesoria_Programa1`
    FOREIGN KEY (`ProgramaID`)
    REFERENCES `Bienestar`.`programa` (`progID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Asesoria_Estudiante1`
    FOREIGN KEY (`EstudianteID`)
    REFERENCES `Bienestar`.`estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Asesoria_Persona1`
    FOREIGN KEY (`AsesorID`)
    REFERENCES `Bienestar`.`persona` (`perID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Asesoria_Programa1_idx` ON `Bienestar`.`asesoria` (`ProgramaID` ASC) VISIBLE;

CREATE INDEX `fk_Asesoria_Estudiante1_idx` ON `Bienestar`.`asesoria` (`EstudianteID` ASC) VISIBLE;

CREATE INDEX `fk_Asesoria_Persona1_idx` ON `Bienestar`.`asesoria` (`AsesorID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`ProyectoEstudiantil`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`proyectoestudiantil` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`proyectoestudiantil` (
  `peID` INT NOT NULL,
  `peNombre` VARCHAR(45) NOT NULL,
  `peDescripcion` LONGTEXT NOT NULL,
  `peObjetivos` LONGTEXT NOT NULL,
  `peInicio` DATE NULL,
  `peFinalizacion` DATE NULL,
  PRIMARY KEY (`peID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Bienestar`.`GrupoProyectoEstudiantil`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`grupoproyectoestudiantil` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`grupoproyectoestudiantil` (
  `gpID` INT NOT NULL,
  `gpNombre` VARCHAR(45) NOT NULL,
  `gpLineadeAccion` VARCHAR(45) NOT NULL,
  `proyectoID` INT NOT NULL,
  PRIMARY KEY (`gpID`),
  CONSTRAINT `fk_GrupoProyectoEstudiantil_ProyectoEstudiantil1`
    FOREIGN KEY (`proyectoID`)
    REFERENCES `Bienestar`.`proyectoestudiantil` (`peID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_GrupoProyectoEstudiantil_ProyectoEstudiantil1_idx` ON `Bienestar`.`grupoproyectoestudiantil` (`proyectoID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`IntegranteGPE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`integrantegpe` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`integrantegpe` (
  `EstudianteID` INT UNSIGNED NOT NULL,
  `GrupoID` INT NOT NULL,
  PRIMARY KEY (`GrupoID`, `EstudianteID`),
  CONSTRAINT `fk_Estudiante_has_GrupoProyectoEstudiantil_Estudiante1`
    FOREIGN KEY (`EstudianteID`)
    REFERENCES `Bienestar`.`estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Estudiante_has_GrupoProyectoEstudiantil_GrupoProyectoEstud1`
    FOREIGN KEY (`GrupoID`)
    REFERENCES `Bienestar`.`grupoproyectoestudiantil` (`gpID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Estudiante_has_GrupoProyectoEstudiantil_GrupoProyectoEst_idx` ON `Bienestar`.`integrantegpe` (`GrupoID` ASC) VISIBLE;

CREATE INDEX `fk_Estudiante_has_GrupoProyectoEstudiantil_Estudiante1_idx` ON `Bienestar`.`integrantegpe` (`EstudianteID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`ApoyoGP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`apoyogp` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`apoyogp` (
  `apID` INT NOT NULL,
  `apTipo` VARCHAR(45) NOT NULL,
  `apValor` INT NOT NULL,
  `GrupoID` INT NOT NULL,
  PRIMARY KEY (`apID`),
  CONSTRAINT `fk_ApoyoGP_GrupoProyectoEstudiantil1`
    FOREIGN KEY (`GrupoID`)
    REFERENCES `Bienestar`.`grupoproyectoestudiantil` (`gpID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ApoyoGP_GrupoProyectoEstudiantil1_idx` ON `Bienestar`.`apoyogp` (`GrupoID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`ConvocatoriaPromotorConvivencia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`convocatoriapromotorconvivencia` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`convocatoriapromotorconvivencia` (
  `convID` INT NOT NULL,
  `pcEstimuloEconomico` INT NOT NULL,
  `pcHorasRequeridas` TINYINT NOT NULL,
  `pcDuracionVinculacion` VARCHAR(45) NOT NULL,
  `pcCupos` TINYINT NOT NULL,
  `pcDescripcion` LONGTEXT NOT NULL,
  PRIMARY KEY (`convID`),
  CONSTRAINT `fk_ConvocatoriaPromotorConvivencia_Convocatoria1`
    FOREIGN KEY (`convID`)
    REFERENCES `Bienestar`.`convocatoria` (`conv_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocatoriaPromotorConvivencia_Convocatoria1_idx` ON `Bienestar`.`convocatoriapromotorconvivencia` (`convID` ASC) VISIBLE;


-- -----------------------------------------------------
-- Table `Bienestar`.`PromotorConvivencia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Bienestar`.`promotorconvivencia` ;

CREATE TABLE IF NOT EXISTS `Bienestar`.`promotorconvivencia` (
  `ConvocatoriaID` INT NOT NULL,
  `EstudianteID` INT UNSIGNED NOT NULL,
  PRIMARY KEY (`ConvocatoriaID`, `EstudianteID`),
  CONSTRAINT `fk_ConvocatoriaPromotorConvivencia_has_Estudiante_Convocatori1`
    FOREIGN KEY (`ConvocatoriaID`)
    REFERENCES `Bienestar`.`convocatoriapromotorconvivencia` (`convID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ConvocatoriaPromotorConvivencia_has_Estudiante_Estudiante1`
    FOREIGN KEY (`EstudianteID`)
    REFERENCES `Bienestar`.`estudiante` (`estID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_ConvocatoriaPromotorConvivencia_has_Estudiante_Estudiant_idx` ON `Bienestar`.`promotorconvivencia` (`EstudianteID` ASC) VISIBLE;

CREATE INDEX `fk_ConvocatoriaPromotorConvivencia_has_Estudiante_Convocato_idx` ON `Bienestar`.`promotorconvivencia` (`ConvocatoriaID` ASC) VISIBLE;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
